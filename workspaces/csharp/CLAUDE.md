# CLAUDE.md (C# Workspace)

This file provides guidance for Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This project is for participating in AtCoder competitive programming contests using C#.
Uses C# 13.0 AOT (.NET 9.0.8) with competitive programming specialized libraries:

- **ac-library-csharp**: C# port of AtCoder library for algorithms and data structures
- **SourceExpander**: Tool to expand source code into single file for submission

### ⚠️ Important Notes
- AI usage is prohibited during contest participation
- Warning if branch is `feature/abc###` etc.

## Quick Start
1. Implement solution in `Program.cs`
2. Test with `dotnet run`
3. Use `Combined.csx` for submission

## Project Structure

- `Murnana.AtCoder.sln`: Visual Studio solution file
- `Murnana.AtCoder/`: Main project directory
  - `Program.cs`: Main source code for current problem
  - `Combined.csx`: Expanded version with all dependencies inlined (generated by SourceExpander)
  - `Murnana.AtCoder.csproj`: Project file targeting .NET 9.0 with C# 13

## Repository Operations
### Branch Management
- **`main` branch**: Manages stable code
- **`feature/` branches**: Work by contest in `feature/abc###` format. Created during contest participation

## Common Commands

### Build and Run
```bash
# Development (normal build)
dotnet run --project Murnana.AtCoder

# AOT compile (for submission)
export DOTNET_EnableWriteXorExecute=0
export DOTNET_CLI_TELEMETRY_OPTOUT=1
dotnet publish -c Release -o publish -v q --nologo --tl:off

# Run AOT compiled executable
./publish/Main
```

### Development Workflow
```bash
# Clean build artifacts
dotnet clean

# Restore NuGet packages
dotnet restore

# Development build
dotnet build

# AOT compile for submission
dotnet publish -c Release -o publish -v q --nologo --tl:off
```

## Code Architecture

Main program structure follows AtCoder conventions:
- Input parsing using `Console.ReadLine()` and `Split()`
- Integer parsing with `int.Parse()`
- Output using `Console.WriteLine()`
- Call `Expander.Expand()` at the beginning for SourceExpander functionality

## Key Dependencies

- **ac-library-csharp (3.9.2-atcoder1)**: Provides competitive programming algorithms
- **MathNet.Numerics (5.0.0)**: Numerical computing library for linear algebra, statistics, and more
- **SourceExpander (8.2.0)**: Handles code expansion for single-file submission

## Development Notes

Target language environment:

| Language                 | Compiler/Interpreter                                                                               | Execution Command  |
| ------------------------ | -------------------------------------------------------------------------------------------------- | ------------------ |
| C# 13.0 (.NET Native AOT 9.0.8) | export DOTNET_ROOT=$HOME/.dotnet<br>export PATH=$PATH:$DOTNET_ROOT:$DOTNET_ROOT/tools<br>export DOTNET_EnableWriteXorExecute=0<br>export DOTNET_CLI_TELEMETRY_OPTOUT=1<br>dotnet publish -c Release -o publish --no-restore --nologo -v q --tl:off 1>&2 | ["./publish/Main"] |

- Project runs on .NET 9.0.8 using C# 13 language features
- Nullable reference types enabled
- Combined.csx is auto-generated, do not edit manually
- Program.cs contains main solution code that gets expanded to Combined.csx for submission
- AI usage is prohibited during contest participation, so warn if branch is `feature/abcXXX`, `feature/arcXXX`, `feature/agcXXX`, `feature/ahcXXX`

## AtCoder Problem Explanation Rules

When providing explanations for AtCoder problems, follow these guidelines:

### 1. **AI Assistance Attribution**
Always include in the header:
```csharp
/// 🤖 本プログラムはClaude Code (claude.ai/code) の支援により作成されました
```

### 2. **Official Editorial Reference**
When official editorial is available, include:
```csharp
/// 📚 AtCoder公式解説 (editorial URL) に基づく実装
```

### 3. **Detailed Japanese Comments**
Include comprehensive explanations covering:
- 問題概要 (Problem Overview)
- 解法のポイント (Key Solution Points)
- 計算量 (Time/Space Complexity)
- 実装の利点 (Implementation Benefits)
- 各処理ステップの詳細説明 (Detailed Step-by-Step Explanation)

### 4. **Official Editorial Priority**
- Prioritize official editorial approaches when available
- Fetch and analyze official editorial before implementation
- Base implementation on official solutions

### 5. **Educational Value Focus**
- Explain why the solution is efficient
- Describe typical techniques (e.g., array doubling)
- Mention applicability to similar problems
- to memorize